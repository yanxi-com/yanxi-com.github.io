---
layout: post
title: 搭建 H5nodejs.com 服务
---

最近几年一直在做 Html5 和 Nodejs 相关的技术开发，去年的时候注册了域名 [h5nodejs.com](http://h5nodejs.com/) ，准备做一个相关技术学习和交流的网站。抽空做了一个简单的页面放在了 [DigitalOcean](https://m.do.co/c/33471040f427) 上，由于服务器在国外，访问速度一直比较慢，也没有怎么花时间去弄。今天心血来潮在阿里云上买了一台服务器，准备把网站迁移到国内，让更多相关的技术人员能够快速的访问到网站。这里做一些记录：

### 购买阿里云服务器ECS

选择的配置是：

- 硬件: 采用 Intel Haswell CPU、DDR4 内存的 1核2G，40G [SSD 云盘](https://help.aliyun.com/document_detail/25382.html)
- 网络: 按流量计费，公网流出流量 0.8元/G (峰值带宽 2M)
- 操作系统: Ubuntu 14.04 64位
- 价格: 128元/月，流量费用另算

### 配置服务器

设置公钥登陆

    mkdir ~/.ssh
    vim ~/.ssh/authorized_keys
    chmod 700 ~/.ssh
    chmod 644 ~/.ssh/authorized_keys

安装常用软件，遇到 [Err 404 Not Found](https://help.aliyun.com/knowledge_detail/6702815.html) 问题

    apt-get update
    apt-get install git nginx-full curl screen mosh

    mosh-server
    nginx

安装 Nodejs (通过 nvm)

    curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash
    # 此处需要重新进入 Terminal
    export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/mirrors/node
    nvm install node

部署 h5nodejs 代码

    mkdir -p /data/env/
    cd /data/env/
    git clone git@git.coding.net:yanxicom/h5nodejs-frontend.git

安装并运行程序详见[程序说明](https://coding.net/u/yanxicom/p/h5nodejs-frontend/git/blob/master/Readme.md)。此为开源程序，也欢迎对 H5 和 Nodejs 感兴趣的朋友贡献内容，共同完善。


    

